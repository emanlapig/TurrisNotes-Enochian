var View=function(){var a=this;this.page={calls:{init:function(){var b=$(".page.calls .calls-list");b.text("");var c=model.calls;if(c.length)for(var d=0;d<c.length;d++){var e=a.utils.elfactory({tag:"h3",attrs:[{key:"class",val:"call-title"},{key:"data-id",val:c[d].id}],text:c[d].title});b.append(e)}},unbind:function(){$(".page.calls h3, .page.calls .btn").unbind()}},edit_call:{call_id:0,init:function(b){var c=b.action,d=b.id;if(a.page.edit_call.call_id=d,"new call"===c);else if("edit call"===c){var e=a.utils.get_call(d),f=e.title;$(".page.edit-call input#call-title").val(f)}},unbind:function(){$(".page.edit-call .btn").unbind()},clear_form:function(){$(".page.edit-call input").val("")}},render_word_list:function(){var b=$(".page.edit-call .words-list");b.text("");var c=a.page.edit_call.call_id,d=a.utils.get_call(c),e=d.words;if(e.length>0)for(var f=0;f<e.length;f++){var g=a.utils.get_word(e[f]),h=a.utils.elfactory({tag:"div",attrs:[{key:"class",val:"word"},{key:"data-id",val:g.id}]}),i=a.utils.elfactory({tag:"span",attrs:[{key:"class",val:"enoA"}],text:g.enoA}),j=a.utils.elfactory({tag:"span",attrs:[{key:"class",val:"enoB"}],text:g.enoB}),k=a.utils.elfactory({tag:"span",attrs:[{key:"class",val:"eng"}],text:g.eng}),l=a.utils.elfactory({tag:"div",attrs:[{key:"class",val:"btn edit-word"},{key:"data-id",val:g.id}],text:"edit"}),m=a.utils.elfactory({tag:"div",attrs:[{key:"class",val:"btn delete-word"},{key:"data-id",val:g.id}],text:"delete"});b.append(h),$(h).append(i).append(j).append(k).append(l).append(m)}},poll:{intv:!1,polling:!1,init:function(b){var c=b.func||!1,d=b.freq||500,e=b.callback||!1;"function"==typeof c&&(this.polling=!0,this.intv=setInterval(function(){c(),this.polling||(clearInterval(a.page.poll.intv),"function"==typeof e&&e())},d))}},go_to:function(a){var b=a.to,c=a.from,d=a.direction,e="left"===d?"off-right":"off-left",f="left"===d?"off-left":"off-right",g=$([b,",",c].join(""));g.removeClass("animate"),$(b).addClass(e).removeClass(f),setTimeout(function(){g.addClass("animate"),$(b).removeClass(e),$(c).addClass(f)},100)}},this.utils={elfactory:function(a){var b=a.tag||!1,c=a.attrs||!1,d=a.text||!1;if(!b)return!1;var e=document.createElement(b);if(c)for(var f=0;f<c.length;f++){var g=c[f].key,h=c[f].val;e.setAttribute(g,h)}return d&&(e.innerHTML=d),e},get_word:function(a){for(var b,a=a,c=0;c<model.words.length;c++)if(model.words[c].id==a){b=model.words[c];break}return b},get_call:function(a){for(var b,a=a,c=0;c<model.calls.length;c++)if(model.calls[c].id==a){b=model.calls[c];break}return b}}};